a=[]# создаем массив
for n in range(5,1000): #запускаем цикл с числа 5(по условию)
    n2=bin(n)[2:] #П.1: преобразуем десятичную запись числа в двоичную,
                    #убрав при этом первые 2 символа полученной последовательности из-за особенностей языка программирования
    if n2[2]=='1': #П.2 Проверка: является ли число единицей
        n2+='10' #выполняется условие
    else: #иначе
        n2='1'+n2 #выполняется условие
    #П.3
    if n2[2]=='1': #П.3 Проверка: является ли число единицей
        n2=n2+'1' #выполняется условие
    else: #иначе
        n2='10'+n2 #выполняется условие
    r=int(n2,2) #П.4 Переводим полученный результат в десятичную запись
    if r<154: #Проверка: меньше ли полученное число, чем 154
        a+=[n] #добавление изначально записанного числа в массив a
print(max(a)) #вывод максимального числа из массива a(по условию)

#Ответ 27
